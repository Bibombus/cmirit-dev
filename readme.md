# Тема проекта 
Программное обеспечение разбора и определения адреса (по г. Череповец).

## Срок реализации: 
01.02.2023 – 28.02.2024

## Состав команды
- Никулин Егор Сергеевич 

## Описание проблемной ситуации
При необходимости указать адрес в некотором документе люди могут использовать различные сокращения, несмотря на то, что  соответствии с Приказом Минфина России от 5 ноября 2015 г. N 171н имеются строго регламентированные формы записи сокращений адресообразующих элементов. Из-за этого сотрудник ЦМИРиТ вынужден тратить время на полуручной разбор адреса и привязку его к адресному реестру города, что существенно замедляет процесс обработки данных.

## Формулировка проблемы
Обнаружение сокращений в тексте и приведение их к государственному стандарту.

## Краткое описание продуктового результата и его основных характеристик
Программное приложение, позволяющее быстро и корректно распознать указанный адрес. Под распознаванием адреса понимается разбиение входного адреса на несколько составляющих, а именно: тип элемента улично-дорожной сети (улица, шоссе, проспект); название элемента улично-дорожной сети; номер дома; номер квартиры.


## Текущее состояние:
:white_check_mark: Правило разбора частей адреса из строки.

:x: Тесты для правила.

:white_check_mark: Привязка к выгрузке из БД.

:x: Тесты для модуля привязки.

:x: Тесты полного функционала.

:white_check_mark: Консольный интерфейс + батники для заказчика.


## Установка (Python 3.10.*)
Данные шаги выполняются один раз, после клонирования репозитория.

0) Открыть папку с **репозиторием** через vs-code.

1) Создание виртуального окружения
```
py -3.10 -m venv venv
```

2) Активация виртуального окружения
```
./venv/Scripts/Activate
```

3) Установка зависимостей 
```
pip install -r requierments.txt
```


## Пример использования (Python)
```python
import pandas as pd
from src.AddresInfo import Address
from src.Linker import Linker


df = pd.read_excel("./Data/DB_EXPORT.xlsx", "Sheet 1")
linker = Linker.load(df)

add
addresses = [
    Address.fromStr("ул Металлургов 2"),
    Address.fromStr("Металлургов 2 40"),
    Address.fromStr("Металлургов 5 37"),
    Address.fromStr("ВОЛОГОДСКАЯ  дом 19 35"),
    Address.fromStr("победы 202")
]

keys = [linker.getkey(a, None) for a in addresses]
print(keys)
```

Ожидаемый результат:
```python
[XXXX, XXXX, XXXX, XXXX, XXXX]
```

## Пример использования (CLI)
Пример использования через консоль появится после написания консольного интерфейса...

## Тесты
**Создание**
Для написания нового модульного теста необходимо создать файл с именем `test_*.py` в папке `test/`. Тестирование каждого модуля обрамляется в класс наследуемый от `unittest.TestCase` ([документация на библиотеку](https://docs.python.org/3/library/unittest.html)). Имя каждого тестовый метода начинается с префикса `test_`.
Пример теста некоторого модуля:
```python
from unittest import TestCase

class TestExample(TestCase):
    
    
    def setUp(self):
        '''
        Здесь описываются действия, которые будут выполняться перед каждым тестом.
        '''
        
        self.example_resource = "some resource for test"


    def tearDown(self):
        '''
        Здесь производится освобождение ресурсов после выполнения теста.
        '''
        pass


    def test_example(self):
        '''
        Тело самого теста
        '''
        self.assertNotEqual(self.example_resource, "result of test")


    def test_second_test(self):
        pass
``` 

**Запуск тестов**
Запуск всех тестов производится командой (с активным виртуальным окружением):
```
python -m unittest
```